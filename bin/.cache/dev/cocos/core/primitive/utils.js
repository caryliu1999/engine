(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../gfx/define.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../gfx/define.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.define);
    global.utils = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _define) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.wireframe = wireframe;
  _exports.invWinding = invWinding;
  _exports.toWavefrontOBJ = toWavefrontOBJ;
  _exports.normals = normals;

  /**
   * 几何图形模块
   * @category 3d/primitive
   */

  /**
   * @deprecated
   */
  function wireframe(indices) {
    var offsets = [[0, 1], [1, 2], [2, 0]];
    var lines = [];
    var lineIDs = {};

    for (var i = 0; i < indices.length; i += 3) {
      for (var k = 0; k < 3; ++k) {
        var i1 = indices[i + offsets[k][0]];
        var i2 = indices[i + offsets[k][1]]; // check if we already have the line in our lines

        var id = i1 > i2 ? i2 << 16 | i1 : i1 << 16 | i2;

        if (lineIDs[id] === undefined) {
          lineIDs[id] = 0;
          lines.push(i1, i2);
        }
      }
    }

    return lines;
  }
  /**
   * @deprecated
   */


  function invWinding(indices) {
    var newIB = [];

    for (var i = 0; i < indices.length; i += 3) {
      newIB.push(indices[i], indices[i + 2], indices[i + 1]);
    }

    return newIB;
  }
  /**
   * @deprecated
   */


  function toWavefrontOBJ(primitive) {
    var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

    if (!primitive.indices || !primitive.uvs || !primitive.normals || primitive.primitiveMode !== undefined && primitive.primitiveMode !== _define.GFXPrimitiveMode.TRIANGLE_LIST) {
      return '';
    }

    var v = primitive.positions;
    var t = primitive.uvs;
    var n = primitive.normals;
    var IB = primitive.indices;

    var V = function V(i) {
      return "".concat(IB[i] + 1, "/").concat(IB[i] + 1, "/").concat(IB[i] + 1);
    };

    var content = '';

    for (var i = 0; i < v.length; i += 3) {
      content += "v ".concat(v[i] * scale, " ").concat(v[i + 1] * scale, " ").concat(v[i + 2] * scale, "\n");
    }

    for (var _i = 0; _i < t.length; _i += 2) {
      content += "vt ".concat(t[_i], " ").concat(t[_i + 1], "\n");
    }

    for (var _i2 = 0; _i2 < n.length; _i2 += 3) {
      content += "vn ".concat(n[_i2], " ").concat(n[_i2 + 1], " ").concat(n[_i2 + 2], "\n");
    }

    for (var _i3 = 0; _i3 < IB.length; _i3 += 3) {
      content += "f ".concat(V(_i3), " ").concat(V(_i3 + 1), " ").concat(V(_i3 + 2), "\n");
    }

    return content;
  }
  /**
   * @deprecated
   */


  function normals(positions, nms) {
    var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
    var verts = new Array(2 * positions.length);

    for (var i = 0; i < positions.length / 3; ++i) {
      var i3 = 3 * i;
      var i6 = 6 * i; // line start

      verts[i6 + 0] = positions[i3 + 0];
      verts[i6 + 1] = positions[i3 + 1];
      verts[i6 + 2] = positions[i3 + 2]; // line end

      verts[i6 + 3] = positions[i3 + 0] + nms[i3 + 0] * length;
      verts[i6 + 4] = positions[i3 + 1] + nms[i3 + 1] * length;
      verts[i6 + 5] = positions[i3 + 2] + nms[i3 + 2] * length;
    }

    return verts;
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImU6L2QwMDQ1MjUyMC9HaXRodWIvZW5naW5lL2NvY29zL2NvcmUvcHJpbWl0aXZlL3V0aWxzLnRzIl0sIm5hbWVzIjpbIndpcmVmcmFtZSIsImluZGljZXMiLCJvZmZzZXRzIiwibGluZXMiLCJsaW5lSURzIiwiaSIsImxlbmd0aCIsImsiLCJpMSIsImkyIiwiaWQiLCJ1bmRlZmluZWQiLCJwdXNoIiwiaW52V2luZGluZyIsIm5ld0lCIiwidG9XYXZlZnJvbnRPQkoiLCJwcmltaXRpdmUiLCJzY2FsZSIsInV2cyIsIm5vcm1hbHMiLCJwcmltaXRpdmVNb2RlIiwiR0ZYUHJpbWl0aXZlTW9kZSIsIlRSSUFOR0xFX0xJU1QiLCJ2IiwicG9zaXRpb25zIiwidCIsIm4iLCJJQiIsIlYiLCJjb250ZW50Iiwibm1zIiwidmVydHMiLCJBcnJheSIsImkzIiwiaTYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7O0FBUUE7OztBQUdPLFdBQVNBLFNBQVQsQ0FBb0JDLE9BQXBCLEVBQXVDO0FBQzFDLFFBQU1DLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBRCxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBVCxFQUFpQixDQUFDLENBQUQsRUFBSSxDQUFKLENBQWpCLENBQWhCO0FBQ0EsUUFBTUMsS0FBZSxHQUFHLEVBQXhCO0FBQ0EsUUFBTUMsT0FBTyxHQUFHLEVBQWhCOztBQUVBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0osT0FBTyxDQUFDSyxNQUE1QixFQUFvQ0QsQ0FBQyxJQUFJLENBQXpDLEVBQTRDO0FBQ3hDLFdBQUssSUFBSUUsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxDQUFwQixFQUF1QixFQUFFQSxDQUF6QixFQUE0QjtBQUN4QixZQUFNQyxFQUFFLEdBQUdQLE9BQU8sQ0FBQ0ksQ0FBQyxHQUFHSCxPQUFPLENBQUNLLENBQUQsQ0FBUCxDQUFX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QUUsR0FBRyxDQUFOLENBQUwsR0FBZ0JWLFNBQVMsQ0FBQ1MsRUFBRSxHQUFHLENBQU4sQ0FBekI7QUFDQUYsTUFBQUEsS0FBSyxDQUFDRyxFQUFFLEdBQUcsQ0FBTixDQUFMLEdBQWdCVixTQUFTLENBQUNTLEVBQUUsR0FBRyxDQUFOLENBQXpCO0FBQ0FGLE1BQUFBLEtBQUssQ0FBQ0csRUFBRSxHQUFHLENBQU4sQ0FBTCxHQUFnQlYsU0FBUyxDQUFDUyxFQUFFLEdBQUcsQ0FBTixDQUF6QixDQVAyQyxDQVMzQzs7QUFDQUYsTUFBQUEsS0FBSyxDQUFDRyxFQUFFLEdBQUcsQ0FBTixDQUFMLEdBQWdCVixTQUFTLENBQUNTLEVBQUUsR0FBRyxDQUFOLENBQVQsR0FBb0JILEdBQUcsQ0FBQ0csRUFBRSxHQUFHLENBQU4sQ0FBSCxHQUFjM0IsTUFBbEQ7QUFDQXlCLE1BQUFBLEtBQUssQ0FBQ0csRUFBRSxHQUFHLENBQU4sQ0FBTCxHQUFnQlYsU0FBUyxDQUFDUyxFQUFFLEdBQUcsQ0FBTixDQUFULEdBQW9CSCxHQUFHLENBQUNHLEVBQUUsR0FBRyxDQUFOLENBQUgsR0FBYzNCLE1BQWxEO0FBQ0F5QixNQUFBQSxLQUFLLENBQUNHLEVBQUUsR0FBRyxDQUFOLENBQUwsR0FBZ0JWLFNBQVMsQ0FBQ1MsRUFBRSxHQUFHLENBQU4sQ0FBVCxHQUFvQkgsR0FBRyxDQUFDRyxFQUFFLEdBQUcsQ0FBTixDQUFILEdBQWMzQixNQUFsRDtBQUNIOztBQUVELFdBQU95QixLQUFQO0FBQ0giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5Yeg5L2V5Zu+5b2i5qih5Z2XXHJcbiAqIEBjYXRlZ29yeSAzZC9wcmltaXRpdmVcclxuICovXHJcblxyXG5pbXBvcnQgeyBHRlhQcmltaXRpdmVNb2RlIH0gZnJvbSAnLi4vZ2Z4L2RlZmluZSc7XHJcbmltcG9ydCB7IElHZW9tZXRyeSB9IGZyb20gJy4vZGVmaW5lJztcclxuXHJcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHdpcmVmcmFtZSAoaW5kaWNlczogbnVtYmVyW10pIHtcclxuICAgIGNvbnN0IG9mZnNldHMgPSBbWzAsIDFdLCBbMSwgMl0sIFsyLCAwXV07XHJcbiAgICBjb25zdCBsaW5lczogbnVtYmVyW10gPSBbXTtcclxuICAgIGNvbnN0IGxpbmVJRHMgPSB7fTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDM7ICsraykge1xyXG4gICAgICAgICAgICBjb25zdCBpMSA9IGluZGljZXNbaSArIG9mZnNldHNba11bMF1dO1xyXG4gICAgICAgICAgICBjb25zdCBpMiA9IGluZGljZXNbaSArIG9mZnNldHNba11bMV1dO1xyXG5cclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIHRoZSBsaW5lIGluIG91ciBsaW5lc1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IChpMSA+IGkyKSA/ICgoaTIgPDwgMTYpIHwgaTEpIDogKChpMSA8PCAxNikgfCBpMik7XHJcbiAgICAgICAgICAgIGlmIChsaW5lSURzW2lkXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lSURzW2lkXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGkxLCBpMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxpbmVzO1xyXG59XHJcblxyXG4vKipcclxuICogQGRlcHJlY2F0ZWRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZXaW5kaW5nIChpbmRpY2VzOiBudW1iZXJbXSkge1xyXG4gICAgY29uc3QgbmV3SUI6IG51bWJlcltdID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICBuZXdJQi5wdXNoKGluZGljZXNbaV0sIGluZGljZXNbaSArIDJdLCBpbmRpY2VzW2kgKyAxXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3SUI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZGVwcmVjYXRlZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvV2F2ZWZyb250T0JKIChwcmltaXRpdmU6IElHZW9tZXRyeSwgc2NhbGUgPSAxKSB7XHJcbiAgICBpZiAoIXByaW1pdGl2ZS5pbmRpY2VzIHx8XHJcbiAgICAgICAgIXByaW1pdGl2ZS51dnMgfHxcclxuICAgICAgICAhcHJpbWl0aXZlLm5vcm1hbHMgfHxcclxuICAgICAgICAocHJpbWl0aXZlLnByaW1pdGl2ZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBwcmltaXRpdmUucHJpbWl0aXZlTW9kZSAhPT0gR0ZYUHJpbWl0aXZlTW9kZS5UUklBTkdMRV9MSVNUKSkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGNvbnN0IHYgPSBwcmltaXRpdmUucG9zaXRpb25zO1xyXG4gICAgY29uc3QgdCA9IHByaW1pdGl2ZS51dnM7XHJcbiAgICBjb25zdCBuID0gcHJpbWl0aXZlLm5vcm1hbHM7XHJcbiAgICBjb25zdCBJQiA9IHByaW1pdGl2ZS5pbmRpY2VzO1xyXG4gICAgY29uc3QgViA9IChpKSA9PiBgJHtJQltpXSArIDF9LyR7SUJbaV0gKyAxfS8ke0lCW2ldICsgMX1gO1xyXG4gICAgbGV0IGNvbnRlbnQgPSAnJztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdi5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYHYgJHt2W2ldICogc2NhbGV9ICR7dltpICsgMV0gKiBzY2FsZX0gJHt2W2kgKyAyXSAqIHNjYWxlfVxcbmA7XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICBjb250ZW50ICs9IGB2dCAke3RbaV19ICR7dFtpICsgMV19XFxuYDtcclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbi5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYHZuICR7bltpXX0gJHtuW2kgKyAxXX0gJHtuW2kgKyAyXX1cXG5gO1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBJQi5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gYGYgJHtWKGkpfSAke1YoaSArIDEpfSAke1YoaSArIDIpfVxcbmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFscyAocG9zaXRpb25zOiBudW1iZXJbXSwgbm1zOiBudW1iZXJbXSwgbGVuZ3RoID0gMSkge1xyXG4gICAgY29uc3QgdmVydHMgPSBuZXcgQXJyYXkoMiAqIHBvc2l0aW9ucy5sZW5ndGgpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zaXRpb25zLmxlbmd0aCAvIDM7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IGkzID0gMyAqIGk7XHJcbiAgICAgICAgY29uc3QgaTYgPSA2ICogaTtcclxuXHJcbiAgICAgICAgLy8gbGluZSBzdGFydFxyXG4gICAgICAgIHZlcnRzW2k2ICsgMF0gPSBwb3NpdGlvbnNbaTMgKyAwXTtcclxuICAgICAgICB2ZXJ0c1tpNiArIDFdID0gcG9zaXRpb25zW2kzICsgMV07XHJcbiAgICAgICAgdmVydHNbaTYgKyAyXSA9IHBvc2l0aW9uc1tpMyArIDJdO1xyXG5cclxuICAgICAgICAvLyBsaW5lIGVuZFxyXG4gICAgICAgIHZlcnRzW2k2ICsgM10gPSBwb3NpdGlvbnNbaTMgKyAwXSArIG5tc1tpMyArIDBdICogbGVuZ3RoO1xyXG4gICAgICAgIHZlcnRzW2k2ICsgNF0gPSBwb3NpdGlvbnNbaTMgKyAxXSArIG5tc1tpMyArIDFdICogbGVuZ3RoO1xyXG4gICAgICAgIHZlcnRzW2k2ICsgNV0gPSBwb3NpdGlvbnNbaTMgKyAyXSArIG5tc1tpMyArIDJdICogbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2ZXJ0cztcclxufVxyXG4iXX0=