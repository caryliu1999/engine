(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../framework/util.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../framework/util.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.util);
    global.cannonUtil = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _util) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.toCannonRaycastOptions = toCannonRaycastOptions;
  _exports.fillRaycastResult = fillRaycastResult;
  _exports.commitShapeUpdates = commitShapeUpdates;

  function toCannonRaycastOptions(out, options) {
    out.checkCollisionResponse = !options.queryTrigger;
    out.collisionFilterGroup = -1;
    out.collisionFilterMask = options.mask; // out.skipBackFaces = true;
  }

  function fillRaycastResult(result, cannonResult) {
    result._assign(cannonResult.hitPointWorld, cannonResult.distance, (0, _util.getWrap)(cannonResult.shape).collider, cannonResult.hitNormalWorld);
  }

  function commitShapeUpdates(body) {
    body.aabbNeedsUpdate = true;
    body.updateMassProperties();
    body.updateBoundingRadius();
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImU6L2QwMDQ1MjUyMC9HaXRodWIvZW5naW5lL2NvY29zL3BoeXNpY3MvY2Fubm9uL2Nhbm5vbi11dGlsLnRzIl0sIm5hbWVzIjpbInRvQ2Fubm9uUmF5Y2FzdE9wdGlvbnMiLCJvdXQiLCJvcHRpb25zIiwiY2hlY2tDb2xsaXNpb25SZXNwb25zZSIsInF1ZXJ5VHJpZ2dlciIsImNvbGxpc2lvbkZpbHRlckdyb3VwIiwiY29sbGlzaW9uRmlsdGVyTWFzayIsIm1hc2siLCJmaWxsUmF5Y2FzdFJlc3VsdCIsInJlc3VsdCIsImNhbm5vblJlc3VsdCIsIl9hc3NpZ24iLCJoaXRQb2ludFdvcmxkIiwiZGlzdGFuY2UiLCJzaGFwZSIsImNvbGxpZGVyIiwiaGl0Tm9ybWFsV29ybGQiLCJjb21taXRTaGFwZVVwZGF0ZXMiLCJib2R5IiwiYWFiYk5lZWRzVXBkYXRlIiwidXBkYXRlTWFzc1Byb3BlcnRpZXMiLCJ1cGRhdGVCb3VuZGluZ1JhZGl1cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU1PLFdBQVNBLHNCQUFULENBQWlDQyxHQUFqQyxFQUE4REMsT0FBOUQsRUFBd0Y7QUFDM0ZELElBQUFBLEdBQUcsQ0FBQ0Usc0JBQUosR0FBNkIsQ0FBQ0QsT0FBTyxDQUFDRSxZQUF0QztBQUNBSCxJQUFBQSxHQUFHLENBQUNJLG9CQUFKLEdBQTJCLENBQUMsQ0FBNUI7QUFDQUosSUFBQUEsR0FBRyxDQUFDSyxtQkFBSixHQUEwQkosT0FBTyxDQUFDSyxJQUFsQyxDQUgyRixDQUkzRjtBQUNIOztBQUVNLFdBQVNDLGlCQUFULENBQTRCQyxNQUE1QixFQUFzREMsWUFBdEQsRUFBMEY7QUFDN0ZELElBQUFBLE1BQU0sQ0FBQ0UsT0FBUCxDQUNJRCxZQUFZLENBQUNFLGFBRGpCLEVBRUlGLFlBQVksQ0FBQ0csUUFGakIsRUFHSSxtQkFBb0JILFlBQVksQ0FBQ0ksS0FBakMsRUFBd0NDLFFBSDVDLEVBSUlMLFlBQVksQ0FBQ00sY0FKakI7QUFNSDs7QUFFTSxXQUFTQyxrQkFBVCxDQUE2QkMsSUFBN0IsRUFBZ0Q7QUFDbkRBLElBQUFBLElBQUksQ0FBQ0MsZUFBTCxHQUF1QixJQUF2QjtBQUNBRCxJQUFBQSxJQUFJLENBQUNFLG9CQUFMO0FBQ0FGLElBQUFBLElBQUksQ0FBQ0csb0JBQUw7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDQU5OT04gZnJvbSAnQGNvY29zL2Nhbm5vbic7XHJcbmltcG9ydCB7IGdldFdyYXAgfSBmcm9tICcuLi9mcmFtZXdvcmsvdXRpbCc7XHJcbmltcG9ydCB7IElCYXNlU2hhcGUgfSBmcm9tICcuLi9zcGVjL2ktcGh5c2ljcy1zaGFwZSc7XHJcbmltcG9ydCB7IFBoeXNpY3NSYXlSZXN1bHQgfSBmcm9tICcuLi9mcmFtZXdvcmsnO1xyXG5pbXBvcnQgeyBJUmF5Y2FzdE9wdGlvbnMgfSBmcm9tICcuLi9zcGVjL2ktcGh5c2ljcy13b3JsZCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9DYW5ub25SYXljYXN0T3B0aW9ucyAob3V0OiBDQU5OT04uSVJheWNhc3RPcHRpb25zLCBvcHRpb25zOiBJUmF5Y2FzdE9wdGlvbnMpIHtcclxuICAgIG91dC5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gIW9wdGlvbnMucXVlcnlUcmlnZ2VyO1xyXG4gICAgb3V0LmNvbGxpc2lvbkZpbHRlckdyb3VwID0gLTE7XHJcbiAgICBvdXQuY29sbGlzaW9uRmlsdGVyTWFzayA9IG9wdGlvbnMubWFzaztcclxuICAgIC8vIG91dC5za2lwQmFja0ZhY2VzID0gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxSYXljYXN0UmVzdWx0IChyZXN1bHQ6IFBoeXNpY3NSYXlSZXN1bHQsIGNhbm5vblJlc3VsdDogQ0FOTk9OLlJheWNhc3RSZXN1bHQpIHtcclxuICAgIHJlc3VsdC5fYXNzaWduKFxyXG4gICAgICAgIGNhbm5vblJlc3VsdC5oaXRQb2ludFdvcmxkLFxyXG4gICAgICAgIGNhbm5vblJlc3VsdC5kaXN0YW5jZSxcclxuICAgICAgICBnZXRXcmFwPElCYXNlU2hhcGU+KGNhbm5vblJlc3VsdC5zaGFwZSkuY29sbGlkZXIsXHJcbiAgICAgICAgY2Fubm9uUmVzdWx0LmhpdE5vcm1hbFdvcmxkXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29tbWl0U2hhcGVVcGRhdGVzIChib2R5OiBDQU5OT04uQm9keSkge1xyXG4gICAgYm9keS5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xyXG4gICAgYm9keS51cGRhdGVNYXNzUHJvcGVydGllcygpO1xyXG4gICAgYm9keS51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xyXG59Il19