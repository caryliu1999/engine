(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports);
    global.easing = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.constant = constant;
  _exports.linear = linear;
  _exports.quadIn = quadIn;
  _exports.quadOut = quadOut;
  _exports.quadInOut = quadInOut;
  _exports.cubicIn = cubicIn;
  _exports.cubicOut = cubicOut;
  _exports.cubicInOut = cubicInOut;
  _exports.quartIn = quartIn;
  _exports.quartOut = quartOut;
  _exports.quartInOut = quartInOut;
  _exports.quintIn = quintIn;
  _exports.quintOut = quintOut;
  _exports.quintInOut = quintInOut;
  _exports.sineIn = sineIn;
  _exports.sineOut = sineOut;
  _exports.sineInOut = sineInOut;
  _exports.expoIn = expoIn;
  _exports.expoOut = expoOut;
  _exports.expoInOut = expoInOut;
  _exports.circIn = circIn;
  _exports.circOut = circOut;
  _exports.circInOut = circInOut;
  _exports.elasticIn = elasticIn;
  _exports.elasticOut = elasticOut;
  _exports.elasticInOut = elasticInOut;
  _exports.backIn = backIn;
  _exports.backOut = backOut;
  _exports.backInOut = backInOut;
  _exports.bounceIn = bounceIn;
  _exports.bounceOut = bounceOut;
  _exports.bounceInOut = bounceInOut;
  _exports.smooth = smooth;
  _exports.fade = fade;
  _exports.bounceOutIn = _exports.backOutIn = _exports.elasticOutIn = _exports.circOutIn = _exports.expoOutIn = _exports.sineOutIn = _exports.quintOutIn = _exports.quartOutIn = _exports.cubicOutIn = _exports.quadOutIn = void 0;

  /**
   * @category animation
   */
  function constant() {
    return 0;
  }

  function linear(k) {
    return k;
  }

  function quadIn(k) {
    return k * k;
  }

  function quadOut(k) {
    return k * (2 - k);
  }

  function quadInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k;
    }

    return -0.5 * (--k * (k - 2) - 1);
  }

  function cubicIn(k) {
    return k * k * k;
  }

  function cubicOut(k) {
    return --k * k * k + 1;
  }

  function cubicInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k;
    }

    return 0.5 * ((k -= 2) * k * k + 2);
  }

  function quartIn(k) {
    return k * k * k * k;
  }

  function quartOut(k) {
    return 1 - --k * k * k * k;
  }

  function quartInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k * k;
    }

    return -0.5 * ((k -= 2) * k * k * k - 2);
  }

  function quintIn(k) {
    return k * k * k * k * k;
  }

  function quintOut(k) {
    return --k * k * k * k * k + 1;
  }

  function quintInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k * k * k;
    }

    return 0.5 * ((k -= 2) * k * k * k * k + 2);
  }

  function sineIn(k) {
    return 1 - Math.cos(k * Math.PI / 2);
  }

  function sineOut(k) {
    return Math.sin(k * Math.PI / 2);
  }

  function sineInOut(k) {
    return 0.5 * (1 - Math.cos(Math.PI * k));
  }

  function expoIn(k) {
    return k === 0 ? 0 : Math.pow(1024, k - 1);
  }

  function expoOut(k) {
    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
  }

  function expoInOut(k) {
    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    k *= 2;

    if (k < 1) {
      return 0.5 * Math.pow(1024, k - 1);
    }

    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
  }

  function circIn(k) {
    return 1 - Math.sqrt(1 - k * k);
  }

  function circOut(k) {
    return Math.sqrt(1 - --k * k);
  }

  function circInOut(k) {
    k *= 2;

    if (k < 1) {
      return -0.5 * (Math.sqrt(1 - k * k) - 1);
    }

    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
  }

  function elasticIn(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
  }

  function elasticOut(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;
  }

  function elasticInOut(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    k *= 2;

    if (k < 1) {
      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
    }

    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
  }

  function backIn(k) {
    var s = 1.70158;
    return k * k * ((s + 1) * k - s);
  }

  function backOut(k) {
    var s = 1.70158;
    return --k * k * ((s + 1) * k + s) + 1;
  }

  function backInOut(k) {
    var s = 1.70158 * 1.525;
    k *= 2;

    if (k < 1) {
      return 0.5 * (k * k * ((s + 1) * k - s));
    }

    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
  }

  function bounceIn(k) {
    return 1 - bounceOut(1 - k);
  }

  function bounceOut(k) {
    if (k < 1 / 2.75) {
      return 7.5625 * k * k;
    } else if (k < 2 / 2.75) {
      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;
    } else if (k < 2.5 / 2.75) {
      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;
    } else {
      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;
    }
  }

  function bounceInOut(k) {
    if (k < 0.5) {
      return bounceIn(k * 2) * 0.5;
    }

    return bounceOut(k * 2 - 1) * 0.5 + 0.5;
  }

  function smooth(k) {
    if (k <= 0) {
      return 0;
    }

    if (k >= 1) {
      return 1;
    }

    return k * k * (3 - 2 * k);
  }

  function fade(k) {
    if (k <= 0) {
      return 0;
    }

    if (k >= 1) {
      return 1;
    }

    return k * k * k * (k * (k * 6 - 15) + 10);
  }

  var quadOutIn = _makeOutIn(quadIn, quadOut);

  _exports.quadOutIn = quadOutIn;

  var cubicOutIn = _makeOutIn(cubicIn, cubicOut);

  _exports.cubicOutIn = cubicOutIn;

  var quartOutIn = _makeOutIn(quartIn, quartOut);

  _exports.quartOutIn = quartOutIn;

  var quintOutIn = _makeOutIn(quintIn, quintOut);

  _exports.quintOutIn = quintOutIn;

  var sineOutIn = _makeOutIn(sineIn, sineOut);

  _exports.sineOutIn = sineOutIn;

  var expoOutIn = _makeOutIn(expoIn, expoOut);

  _exports.expoOutIn = expoOutIn;

  var circOutIn = _makeOutIn(circIn, circOut);

  _exports.circOutIn = circOutIn;

  var elasticOutIn = _makeOutIn(elasticIn, elasticOut);

  _exports.elasticOutIn = elasticOutIn;

  var backOutIn = _makeOutIn(backIn, backOut);

  _exports.backOutIn = backOutIn;

  var bounceOutIn = _makeOutIn(bounceIn, bounceOut);

  _exports.bounceOutIn = bounceOutIn;

  function _makeOutIn(fnIn, fnOut) {
    return function (k) {
      if (k < 0.5) {
        return fnOut(k * 2) / 2;
      }

      return fnIn(2 * k - 1) / 2 + 0.5;
    };
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImU6L2QwMDQ1MjUyMC9HaXRodWIvZW5naW5lL2NvY29zL2NvcmUvYW5pbWF0aW9uL2Vhc2luZy50cyJdLCJuYW1lcyI6WyJjb25zdGFudCIsImxpbmVhciIsImsiLCJxdWFkSW4iLCJxdWFkT3V0IiwicXVhZEluT3V0IiwiY3ViaWNJbiIsImN1YmljT3V0IiwiY3ViaWNJbk91dCIsInF1YXJ0SW4iLCJxdWFydE91dCIsInF1YXJ0SW5PdXQiLCJxdWludEluIiwicXVpbnRPdXQiLCJxdWludEluT3V0Iiwic2luZUluIiwiTWF0aCIsImNvcyIsIlBJIiwic2luZU91dCIsInNpbiIsInNpbmVJbk91dCIsImV4cG9JbiIsInBvdyIsImV4cG9PdXQiLCJleHBvSW5PdXQiLCJjaXJjSW4iLCJzcXJ0IiwiY2lyY091dCIsImNpcmNJbk91dCIsImVsYXN0aWNJbiIsInMiLCJhIiwicCIsImFzaW4iLCJlbGFzdGljT3V0IiwiZWxhc3RpY0luT3V0IiwiYmFja0luIiwiYmFja091dCIsImJhY2tJbk91dCIsImJvdW5jZUluIiwiYm91bmNlT3V0IiwiYm91bmNlSW5PdXQiLCJzbW9vdGgiLCJmYWRlIiwicXVhZE91dEluIiwiX21ha2VPdXRJbiIsImN1YmljT3V0SW4iLCJxdWFydE91dEluIiwicXVpbnRPdXRJbiIsInNpbmVPdXRJbiIsImV4cG9PdXRJbiIsImNpcmNPdXRJbiIsImVsYXN0aWNPdXRJbiIsImJhY2tPdXRJbiIsImJvdW5jZU91dEluIiwiZm5JbiIsImZuT3V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7O0FBSU8sV0FBU0EsUUFBVCxHQUFxQjtBQUN4QixXQUFPLENBQVA7QUFDSDs7QUFFTSxXQUFTQyxNQUFULENBQWlCQyxDQUFqQixFQUE0QjtBQUMvQixXQUFPQSxDQUFQO0FBQ0g7O0FBRU0sV0FBU0MsTUFBVCxDQUFpQkQsQ0FBakIsRUFBNEI7QUFDL0IsV0FB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R0FBZSxDQUF0QjtBQUNIOztBQUNELGFBQU9zRCxJQUFJLENBQUMsSUFBSXRELENBQUosR0FBUSxDQUFULENBQUosR0FBa0IsQ0FBbEIsR0FBc0IsR0FBN0I7QUFDSCxLQUxEO0FBTUgiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLyoqXHJcbiAqIEBjYXRlZ29yeSBhbmltYXRpb25cclxuICovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uc3RhbnQgKCkge1xyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaW5lYXIgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGs7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFkSW4gKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGsgKiBrO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVhZE91dCAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayAqICgyIC0gayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFkSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuNSAqIGsgKiBrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0wLjUgKiAoLS1rICogKGsgLSAyKSAtIDEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNJbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayAqIGsgKiBrO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNPdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIC0tayAqIGsgKiBrICsgMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuNSAqIGsgKiBrICogaztcclxuICAgIH1cclxuICAgIHJldHVybiAwLjUgKiAoKGsgLT0gMikgKiBrICogayArIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVhcnRJbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayAqIGsgKiBrICogaztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YXJ0T3V0IChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiAxIC0gKC0tayAqIGsgKiBrICogayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFydEluT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGsgKj0gMjtcclxuICAgIGlmIChrIDwgMSkge1xyXG4gICAgICAgIHJldHVybiAwLjUgKiBrICogayAqIGsgKiBrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0wLjUgKiAoKGsgLT0gMikgKiBrICogayAqIGsgLSAyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1aW50SW4gKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGsgKiBrICogayAqIGsgKiBrO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVpbnRPdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIC0tayAqIGsgKiBrICogayAqIGsgKyAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVpbnRJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBrICo9IDI7XHJcbiAgICBpZiAoayA8IDEpIHtcclxuICAgICAgICByZXR1cm4gMC41ICogayAqIGsgKiBrICogayAqIGs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMC41ICogKChrIC09IDIpICogayAqIGsgKiBrICogayArIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2luZUluIChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiAxIC0gTWF0aC5jb3MoayAqIE1hdGguUEkgLyAyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbmVPdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIE1hdGguc2luKGsgKiBNYXRoLlBJIC8gMik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW5lSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9JbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayA9PT0gMCA/IDAgOiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBvT3V0IChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBrID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiBrKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9Jbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKGsgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGsgKj0gMjtcclxuICAgIGlmIChrIDwgMSkge1xyXG4gICAgICAgIHJldHVybiAwLjUgKiBNYXRoLnBvdygxMDI0LCBrIC0gMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMC41ICogKC1NYXRoLnBvdygyLCAtMTAgKiAoayAtIDEpKSArIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2lyY0luIChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSBrICogayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaXJjT3V0IChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBNYXRoLnNxcnQoMSAtICgtLWsgKiBrKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaXJjSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSBrICogaykgLSAxKTtcclxuICAgIH1cclxuICAgIHJldHVybiAwLjUgKiAoTWF0aC5zcXJ0KDEgLSAoayAtPSAyKSAqIGspICsgMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBlbGFzdGljSW4gKGs6IG51bWJlcikge1xyXG4gICAgbGV0IHM7XHJcbiAgICBsZXQgYSA9IDAuMTtcclxuICAgIGNvbnN0IHAgPSAwLjQ7XHJcbiAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKGsgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGlmICghYSB8fCBhIDwgMSkge1xyXG4gICAgICAgIGEgPSAxO1xyXG4gICAgICAgIHMgPSBwIC8gNDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHMgPSBwICogTWF0aC5hc2luKDEgLyBhKSAvICgyICogTWF0aC5QSSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAoayAtPSAxKSkgKiBNYXRoLnNpbigoayAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWNPdXQgKGs6IG51bWJlcikge1xyXG4gICAgbGV0IHM7XHJcbiAgICBsZXQgYSA9IDAuMTtcclxuICAgIGNvbnN0IHAgPSAwLjQ7XHJcbiAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKGsgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIGlmICghYSB8fCBhIDwgMSkge1xyXG4gICAgICAgIGEgPSAxO1xyXG4gICAgICAgIHMgPSBwIC8gNDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHMgPSBwICogTWF0aC5hc2luKDEgLyBhKSAvICgyICogTWF0aC5QSSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGEgKiBNYXRoLnBvdygyLCAtMTAgKiBrKSAqIE1hdGguc2luKChrIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyAxKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWNJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBsZXQgcztcclxuICAgIGxldCBhID0gMC4xO1xyXG4gICAgY29uc3QgcCA9IDAuNDtcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhIHx8IGEgPCAxKSB7XHJcbiAgICAgICAgYSA9IDE7XHJcbiAgICAgICAgcyA9IHAgLyA0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcyA9IHAgKiBNYXRoLmFzaW4oMSAvIGEpIC8gKDIgKiBNYXRoLlBJKTtcclxuICAgIH1cclxuICAgIGsgKj0gMjtcclxuICAgIGlmIChrIDwgMSkge1xyXG4gICAgICAgIHJldHVybiAtMC41ICpcclxuICAgICAgICAgICAgKGEgKiBNYXRoLnBvdygyLCAxMCAqIChrIC09IDEpKSAqIE1hdGguc2luKChrIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAoayAtPSAxKSkgKiBNYXRoLnNpbigoayAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogMC41ICsgMTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJhY2tJbiAoazogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzID0gMS43MDE1ODtcclxuICAgIHJldHVybiBrICogayAqICgocyArIDEpICogayAtIHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmFja091dCAoazogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBzID0gMS43MDE1ODtcclxuICAgIHJldHVybiAtLWsgKiBrICogKChzICsgMSkgKiBrICsgcykgKyAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmFja0luT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHMgPSAxLjcwMTU4ICogMS41MjU7XHJcbiAgICBrICo9IDI7XHJcbiAgICBpZiAoayA8IDEpIHtcclxuICAgICAgICByZXR1cm4gMC41ICogKGsgKiBrICogKChzICsgMSkgKiBrIC0gcykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiAoKHMgKyAxKSAqIGsgKyBzKSArIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlSW4gKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIDEgLSBib3VuY2VPdXQoMSAtIGspO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGlmIChrIDwgKDEgLyAyLjc1KSkge1xyXG4gICAgICAgIHJldHVybiA3LjU2MjUgKiBrICogaztcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGsgPCAoMiAvIDIuNzUpKSB7XHJcbiAgICAgICAgcmV0dXJuIDcuNTYyNSAqIChrIC09ICgxLjUgLyAyLjc1KSkgKiBrICsgMC43NTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGsgPCAoMi41IC8gMi43NSkpIHtcclxuICAgICAgICByZXR1cm4gNy41NjI1ICogKGsgLT0gKDIuMjUgLyAyLjc1KSkgKiBrICsgMC45Mzc1O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIDcuNTYyNSAqIChrIC09ICgyLjYyNSAvIDIuNzUpKSAqIGsgKyAwLjk4NDM3NTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJvdW5jZUluT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGlmIChrIDwgMC41KSB7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5jZUluKGsgKiAyKSAqIDAuNTtcclxuICAgIH1cclxuICAgIHJldHVybiBib3VuY2VPdXQoayAqIDIgLSAxKSAqIDAuNSArIDAuNTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aCAoazogbnVtYmVyKSB7XHJcbiAgICBpZiAoayA8PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA+PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gayAqIGsgKiAoMyAtIDIgKiBrKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZhZGUgKGs6IG51bWJlcikge1xyXG4gICAgaWYgKGsgPD0gMCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKGsgPj0gMSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGsgKiBrICogayAqIChrICogKGsgKiA2IC0gMTUpICsgMTApO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcXVhZE91dEluID0gX21ha2VPdXRJbihxdWFkSW4sIHF1YWRPdXQpO1xyXG5leHBvcnQgY29uc3QgY3ViaWNPdXRJbiA9IF9tYWtlT3V0SW4oY3ViaWNJbiwgY3ViaWNPdXQpO1xyXG5leHBvcnQgY29uc3QgcXVhcnRPdXRJbiA9IF9tYWtlT3V0SW4ocXVhcnRJbiwgcXVhcnRPdXQpO1xyXG5leHBvcnQgY29uc3QgcXVpbnRPdXRJbiA9IF9tYWtlT3V0SW4ocXVpbnRJbiwgcXVpbnRPdXQpO1xyXG5leHBvcnQgY29uc3Qgc2luZU91dEluID0gX21ha2VPdXRJbihzaW5lSW4sIHNpbmVPdXQpO1xyXG5leHBvcnQgY29uc3QgZXhwb091dEluID0gX21ha2VPdXRJbihleHBvSW4sIGV4cG9PdXQpO1xyXG5leHBvcnQgY29uc3QgY2lyY091dEluID0gX21ha2VPdXRJbihjaXJjSW4sIGNpcmNPdXQpO1xyXG5leHBvcnQgY29uc3QgZWxhc3RpY091dEluID0gX21ha2VPdXRJbihlbGFzdGljSW4sIGVsYXN0aWNPdXQpO1xyXG5leHBvcnQgY29uc3QgYmFja091dEluID0gX21ha2VPdXRJbihiYWNrSW4sIGJhY2tPdXQpO1xyXG5leHBvcnQgY29uc3QgYm91bmNlT3V0SW4gPSBfbWFrZU91dEluKGJvdW5jZUluLCBib3VuY2VPdXQpO1xyXG5cclxuZnVuY3Rpb24gX21ha2VPdXRJbiAoZm5JbjogKGs6IG51bWJlcikgPT4gbnVtYmVyLCBmbk91dDogKGs6IG51bWJlcikgPT4gbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gKGs6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChrIDwgMC41KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbk91dChrICogMikgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm5JbigyICogayAtIDEpIC8gMiArIDAuNTtcclxuICAgIH07XHJcbn1cclxuIl19